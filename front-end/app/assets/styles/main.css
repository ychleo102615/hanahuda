@import 'tailwindcss';

/* Tailwind Theme Configuration */
@theme {
  /* Modern Japanese Minimalist 色彩系統 */
  --color-primary-50: #f5f7fa;
  --color-primary-100: #e8ecf1;
  --color-primary-200: #d1d9e3;
  --color-primary-300: #aab8ca;
  --color-primary-400: #7e91ab;
  --color-primary-500: #5f7290;
  --color-primary-600: #4b5a77;
  --color-primary-700: #3e4a61;
  --color-primary-800: #363f52;
  --color-primary-900: #1a202c;

  /* 輔助色 (花牌鮮紅、櫻粉、亮綠) */
  --color-accent-red: #dc2626;
  --color-accent-pink: #fbcfe8;
  --color-accent-green: #10b981;
  /* 金色（用於高亮數字） */
  --color-accent-gold: #D4AF37;

  /* 字體家族 */
  --font-sans: Inter, 'Noto Sans', sans-serif;
  --font-serif: 'Noto Serif', serif;
  --font-jp: 'Noto Sans JP', sans-serif;

  /* 自訂間距 */
  --spacing-18: 4.5rem;
  --spacing-22: 5.5rem;

  /* 卡片尺寸變數（RWD fallback） */
  --card-height-sm: 4.5rem;   /* 72px */
  --card-height-md: 6rem;     /* 96px */
  --card-height-lg: 8rem;     /* 128px */
  --card-height-min: 3rem;    /* 48px - 最小限制 */

  /* Hero 卡片網格尺寸 */
  --hero-card-size-sm: 3rem;
  --hero-card-size-md: 4rem;
  --hero-card-size-lg: 5rem;

  /* Game Page 佈局變數 */
  --game-topbar-height: 5rem;  /* 80px */
}

/* Custom global styles */
@layer base {
  html {
    scroll-behavior: smooth;
    /* 防止 iOS Safari 過度捲動（橡皮筋效果） */
    overflow-x: hidden;
    overscroll-behavior: none;
    /* 始終保留滾動條空間，避免 modal 開啟時內容跳動 */
    scrollbar-gutter: stable;
    /* 防止雙擊放大，保留正常滾動和捏合縮放 */
    touch-action: manipulation;
    /* 背景色：消除 iOS Safari safe area 白邊（配合 TopInfoBar） */
    background-color: #1f2937; /* gray-800 */
  }

  body {
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* 防止 iOS Safari 過度捲動（橡皮筋效果） */
    overflow-x: hidden;
    overscroll-behavior: none;
    /* 背景色：消除 iOS Safari safe area 白邊（配合 TopInfoBar） */
    background-color: #1f2937; /* gray-800 */
  }

  /* Focus visible styles for accessibility */
  :focus-visible {
    outline: 2px solid var(--color-accent-red);
    outline-offset: 2px;
  }
}

@layer components {
  /* Reusable component styles */
  .btn-primary {
    padding: 0.75rem 1.5rem;
    background-color: var(--color-accent-red);
    color: white;
    font-weight: 600;
    border-radius: 0.25rem;
    transition: background-color 200ms;
  }

  .btn-primary:hover {
    background-color: #b91c1c;
  }

  .btn-secondary {
    padding: 0.75rem 1.5rem;
    background-color: var(--color-primary-700);
    color: white;
    font-weight: 600;
    border-radius: 0.25rem;
    transition: background-color 200ms;
  }

  .btn-secondary:hover {
    background-color: var(--color-primary-600);
  }

  /* Hero Section 自定義動畫 */
  @keyframes pulse-subtle {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    }
  }

  @keyframes slide-up-fade-in {
    from {
      opacity: 0;
      transform: translateY(2rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-pulse-subtle {
    animation: pulse-subtle 2s ease-in-out infinite;
  }

  .animate-slide-up-fade-in {
    animation: slide-up-fade-in 0.6s ease-out forwards;
  }

  .animate-fade-in {
    animation: fade-in 0.6s ease-out forwards;
  }

  /* Hero 卡片進場動畫 */
  @keyframes card-fade-in {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-card-fade-in {
    animation: card-fade-in 0.6s ease-out forwards;
    animation-delay: var(--delay, 0ms);
  }
}
